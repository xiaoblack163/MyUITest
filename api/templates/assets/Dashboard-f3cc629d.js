import{i as D,u as G,r as n,w as O,o as S,a as c,b as p,c as f,d as e,t as i,e as s,f as o,F as V,g as E,h as H,j as _,k as C,n as b,l as M}from"./index-db2382d8.js";const P={class:"grid"},z={class:"col-12 lg:col-6 xl:col-3"},K={class:"card mb-0"},U={class:"flex justify-content-between mb-3"},$=e("span",{class:"block text-500 font-medium mb-3"},"总功能数",-1),q={class:"text-900 font-medium text-xl"},J=e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-th-large text-blue-500 text-xl"})],-1),Q=e("span",{class:"text-500"},"Recently New ",-1),W=e("span",{class:"text-green-500 font-medium"}," 0 Record ",-1),X={class:"col-12 lg:col-6 xl:col-3"},Y={class:"card mb-0"},Z={class:"flex justify-content-between mb-3"},ee=e("span",{class:"block text-500 font-medium mb-3"},"总用例数",-1),te={class:"text-900 font-medium text-xl"},se=e("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-star text-orange-500 text-xl"})],-1),oe=e("span",{class:"text-500"},"Recently New ",-1),le=e("span",{class:"text-green-500 font-medium"}," 0 Record ",-1),ae={class:"col-12 lg:col-6 xl:col-3"},ne={class:"card mb-0"},ie={class:"flex justify-content-between mb-3"},ce=e("span",{class:"block text-500 font-medium mb-3"},"总步骤数",-1),re={class:"text-900 font-medium text-xl"},de=e("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-inbox text-cyan-500 text-xl"})],-1),ue=e("span",{class:"text-500"},"Recently New ",-1),_e=e("span",{class:"text-green-500 font-medium"}," 0 Record ",-1),he={class:"col-12 lg:col-6 xl:col-3"},me={class:"card mb-0"},pe={class:"flex justify-content-between mb-3"},fe=e("span",{class:"block text-500 font-medium mb-3"},"测试报告数",-1),be={class:"text-900 font-medium text-xl"},xe=e("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-calendar text-purple-500 text-xl"})],-1),ve=e("span",{class:"text-500"},"Recently New ",-1),ge=e("span",{class:"text-green-500 font-medium"}," 0 Record ",-1),ye={class:"col-12 xl:col-6"},we={class:"card"},Re=e("span",{style:{font:"1.3em sans-serif"}},"近期",-1),ke=e("span",{style:{font:"1.3em sans-serif",color:"#EC4899"}},"FAIL",-1),De=e("span",{style:{font:"1.3em sans-serif"}},"测试步骤",-1),Ce=["src"],Le=["src"],je={class:"card"},Te=e("span",{style:{font:"1.3em sans-serif"}},"近期",-1),Ie=e("span",{style:{font:"1.3em sans-serif",color:"#43C667"}},"版本",-1),Fe=e("span",{style:{font:"1.3em sans-serif"}},"测试报告",-1),Ne={class:"col-12 xl:col-6"},Be={class:"card"},Ae=e("h5",null,"近期测试趋势图",-1),Ge={class:"card"},Oe=e("div",{class:"flex align-items-center justify-content-between mb-4"},[e("h5",null,"操作日志")],-1),Se={class:"p-0 mx-0 mt-0 mb-4 list-none"},Ve={class:"w-3rem h-3rem flex align-items-center justify-content-center bg-blue-100 border-circle mr-3 flex-shrink-0"},Ee={class:"text-blue-500 font-medium"},He={class:"text-700 line-height-3"},Me={class:"text-pink-500 font-medium"},Pe=H('<div class="px-4 py-5 shadow-2 flex flex-column md:flex-row md:align-items-center justify-content-between mb-3" style="border-radius:1rem;background:linear-gradient(0deg, rgba(0, 123, 255, 0.5), rgba(0, 123, 255, 0.5)), linear-gradient(92.54deg, #1c80cf 47.88%, #ffffff 100.01%);"><div><div class="text-blue-100 font-medium text-xl mt-2 mb-3">MACHLOOP</div><div class="text-white font-medium text-5xl">UI 自动化测试</div></div><div class="mt-4 mr-auto md:mt-0 md:mr-0"><a href="javascript:;" class="p-button font-bold px-5 py-3 p-button-primary p-button-rounded p-button-raised"> README </a></div></div>',1),$e={__name:"Dashboard",setup(ze){const r=D("utilss"),x=D("storee"),{isDarkTheme:L}=G(),v=n(null),d=n({funcTest:0,caseTest:0,stepData:0,report:0}),u=n({testDateList:[],passList:[],failList:[]}),g=n(),y=n(),w=n([]),j=(a,R,m)=>({labels:a,datasets:[{label:"PASS",data:R,fill:!1,backgroundColor:"#00bb7e",borderColor:"#00bb7e",tension:.4},{label:"FAIL",data:m,fill:!1,backgroundColor:"#FF8780",borderColor:"#FF8780",tension:.4}]}),h=n(null),T=()=>{h.value={plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}}},I=()=>{h.value={plugins:{legend:{labels:{color:"#ebedef"}}},scales:{x:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}},y:{ticks:{color:"#ebedef"},grid:{color:"rgba(160, 167, 181, .3)"}}}}};O(L,a=>{a?I():T()},{immediate:!0});const F=a=>{console.log("saasd撒旦",a),localStorage.setItem("reportID",a),M.push("/uikit/detailReport")};return S(async()=>{v.value=await r.GetFailDetailReportRecord(),d.value=await r.GetRecordCount(),g.value=await r.GetReportRecord(),u.value=await r.GetReportTrendRecord(),y.value=j(u.value.testDateList,u.value.passList,u.value.failList),w.value=await r.GetOperationLogs()}),(a,R)=>{const m=c("Image"),l=c("Column"),N=c("Button"),k=c("DataTable"),B=c("ProgressBar"),A=c("Chart");return p(),f("div",P,[e("div",z,[e("div",K,[e("div",U,[e("div",null,[$,e("div",q,i(d.value.funcTest),1)]),J]),Q,W])]),e("div",X,[e("div",Y,[e("div",Z,[e("div",null,[ee,e("div",te,i(d.value.caseTest),1)]),se]),oe,le])]),e("div",ae,[e("div",ne,[e("div",ie,[e("div",null,[ce,e("div",re,i(d.value.stepData),1)]),de]),ue,_e])]),e("div",he,[e("div",me,[e("div",pe,[e("div",null,[fe,e("div",be,i(d.value.report),1)]),xe]),ve,ge])]),e("div",ye,[e("div",we,[Re,ke,De,s(k,{value:v.value,rows:6,paginator:!0,rowHover:!0,responsiveLayout:"scroll"},{default:o(()=>[s(l,{style:{width:"15%"}},{header:o(()=>[_("截图")]),body:o(t=>[s(m,{alt:"Image",preview:""},{image:o(()=>[e("img",{src:C(x).host+"/screenshot/"+t.data.detailReportID+".png",alt:"image",width:"50",class:"shadow-2"},null,8,Ce)]),preview:o(()=>[e("img",{src:C(x).host+"/screenshot/"+t.data.detailReportID+".png",alt:"image",width:"1500",class:"shadow-2"},null,8,Le)]),_:2},1024)]),_:1}),s(l,{field:"stepName",header:"步骤名称",style:{width:"50%"}}),s(l,{field:"result",header:"结果",style:{width:"15%"}},{body:o(({data:t})=>[e("i",{class:b(["pi",{"text-green-500 pi-check-circle":t.result,"text-pink-500 pi-times-circle":!t.result}])},null,2)]),_:1}),s(l,{style:{width:"10%"}},{header:o(()=>[_("详细")]),body:o(({data:t})=>[s(N,{onClick:Ke=>F(t.reportID),icon:"pi pi-search",type:"button",class:"p-button-text"},null,8,["onClick"])]),_:1})]),_:1},8,["value"])]),e("div",je,[Te,Ie,Fe,s(k,{value:g.value,rows:10,dataKey:"id",rowHover:!0,size:"large"},{default:o(()=>[s(l,{header:"版本",field:"version",style:{width:"20%"}}),s(l,{header:"测试时间",field:"testDate",style:{width:"40%"}}),s(l,{field:"result",header:"结果",dataType:"boolean",style:{width:"15%"}},{body:o(({data:t})=>[e("i",{class:b(["pi",{"text-green-500 pi-check-circle":t.result,"text-pink-500 pi-times-circle":!t.result}])},null,2)]),_:1}),s(l,{field:"activity",header:"执行进度",style:{width:"25%"}},{body:o(({data:t})=>[s(B,{value:t.activity,showValue:!1,style:{height:"0.5rem"}},null,8,["value"])]),_:1})]),_:1},8,["value"])])]),e("div",Ne,[e("div",Be,[Ae,s(A,{type:"line",data:y.value,options:h.value},null,8,["data","options"])]),e("div",Ge,[Oe,e("ul",Se,[(p(!0),f(V,null,E(w.value,t=>(p(),f("li",{class:"flex align-items-center py-2 border-bottom-1 surface-border",key:t.operationID},[e("div",Ve,[e("i",{class:b(t.operationClass)},null,2)]),e("span",Ee,[_(i(t.operationDate)+" ",1),e("span",He,[_(i(t.operationCrud)+" ",1),e("span",Me,i(t.operationName),1)])])]))),128))])]),Pe])])}}};export{$e as default};
