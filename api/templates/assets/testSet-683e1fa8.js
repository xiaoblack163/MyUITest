import{m as P,i as _,p as S,r as p,o as g,a as m,b as w,c as F,e as s,f as T,d as o,F as U,v as I}from"./index-c1bbea3d.js";const $={class:"flex align-items-center gap-3 mb-5"},M=o("label",{for:"Tcpreplay",class:"font-semibold w-6rem"},"测试环境",-1),N={class:"flex align-items-center gap-3 mb-5"},R=o("label",{for:"Tcpreplay",class:"font-semibold w-6rem"},"发包环境",-1),D={class:"flex align-items-center gap-3 mb-5"},O=o("label",{for:"Tcpreplay",class:"font-semibold w-6rem"},"用户",-1),k={class:"flex align-items-center gap-3 mb-5"},j=o("label",{for:"Tcpreplay",class:"font-semibold w-6rem"},"密码",-1),H={class:"flex justify-content-end gap-2"},W={class:"card"},L=o("h5",null,"测试环境",-1),G={class:"flex justify-content-start"},q={__name:"testEnv",setup(x){const c=P(),r=_("utilss"),e=S(),i=p(""),V=p(),l=p(null),n=p({testEnvID:"",testEnvIP:"",sendFlowHostName:"",sendFlowUserName:"",sendFlowPassWord:""}),d=()=>{if(console.log(i.value),i.value=="")return e.add({severity:"info",summary:"信息",detail:"测试环境不能为空!",life:3e3}),!1;if(i.value.testEnvIP===void 0)n.value={testEnvID:I(),testEnvIP:i.value,sendFlowHostName:"",sendFlowUserName:"",sendFlowPassWord:""},r.PostTestEnv(e,n.value);else return e.add({severity:"info",summary:"信息",detail:"环境已存在!",life:3e3}),!1},b=()=>{if(i.value==="")return!1;i.value.testEnvIP===void 0?r.DeleteTestEnv(e,i.value):r.DeleteTestEnv(e,i.value.testEnvIP)},t=y=>{c.require({target:y.currentTarget,message:"删除环境?",icon:"pi pi-info-circle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-danger p-button-sm",rejectLabel:"取消",acceptLabel:"确认",accept:()=>{b()},reject:()=>{console.log("取消")}})},E=async()=>{n.value=i.value,l.value=!0},h=()=>{if(n.value.testEnv===""||n.value.testEnvID===""||n.value.sendFlowHostName===""||n.value.sendFlowUserName===""||n.value.sendFlowPassWord==="")return e.add({severity:"info",summary:"信息",detail:"参数不能为空!",life:3e3}),!1;r.PutTestEnv(e,n.value)};return g(async()=>{V.value=await r.GetTestEnvs()}),(y,a)=>{const C=m("ConfirmPopup"),f=m("InputText"),v=m("Button"),A=m("Dialog"),B=m("Dropdown");return w(),F(U,null,[s(C),s(A,{visible:l.value,"onUpdate:visible":a[6]||(a[6]=u=>l.value=u),modal:"",header:"环境配置",style:{width:"25rem"}},{default:T(()=>[o("div",$,[M,s(f,{disabled:"",modelValue:n.value.testEnvIP,"onUpdate:modelValue":a[0]||(a[0]=u=>n.value.testEnvIP=u),class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),o("div",N,[R,s(f,{modelValue:n.value.sendFlowHostName,"onUpdate:modelValue":a[1]||(a[1]=u=>n.value.sendFlowHostName=u),class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),o("div",D,[O,s(f,{modelValue:n.value.sendFlowUserName,"onUpdate:modelValue":a[2]||(a[2]=u=>n.value.sendFlowUserName=u),class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),o("div",k,[j,s(f,{modelValue:n.value.sendFlowPassWord,"onUpdate:modelValue":a[3]||(a[3]=u=>n.value.sendFlowPassWord=u),class:"flex-auto",autocomplete:"off"},null,8,["modelValue"])]),o("div",H,[s(v,{type:"button",label:"Cancel",severity:"secondary",onClick:a[4]||(a[4]=u=>l.value=!1)}),s(v,{type:"button",label:"Save",onClick:a[5]||(a[5]=u=>{l.value=!1,h()})})])]),_:1},8,["visible"]),o("div",W,[L,o("div",G,[s(B,{modelValue:i.value,"onUpdate:modelValue":a[7]||(a[7]=u=>i.value=u),editable:"",options:V.value,optionLabel:"testEnvIP",placeholder:"请选择测试环境",class:"w-full md:w-14rem"},null,8,["modelValue","options"]),s(v,{onClick:d,style:{"margin-left":"10px"},icon:"pi pi-plus",label:"添加环境"}),s(v,{onClick:E,style:{"margin-left":"10px"},icon:"pi pi-plus",label:"编辑发包环境"}),s(v,{onClick:a[8]||(a[8]=u=>t(u)),style:{"margin-left":"10px"},icon:"pi pi-trash",label:"删除环境",outlined:""})])])],64)}}},z={class:"card"},J=o("h5",null,"测试配置",-1),K={class:"grid p-fluid"},Q={class:"col-12 md:col-6"},X=o("h5",null,"运行模式",-1),Y=o("h5",null,"是否录屏",-1),Z=o("h5",null,"是否截屏",-1),ee=o("h5",null,"发包失败的动作",-1),le=o("h5",null,"网页访问失败的动作",-1),te=o("h5",null,"登录失败的动作",-1),oe=o("h5",null,"断言失败的动作",-1),se=o("h5",null,"执行失败的动作",-1),ne=o("h5",null,"文字识别模型版本",-1),ae={class:"col-12 md:col-6"},ue=o("h5",null,"网页访问失败重试次数",-1),ie=o("h5",null,"登录失败重试次数",-1),de=o("h5",null,"截图失败重试次数",-1),me=o("h5",null,"定位失败重试次数",-1),re=o("h5",null,"文字识别置信度不低于",-1),ve=o("h5",null,"文字识别匹配度不低于",-1),pe=o("h5",null,"图像识别置信度不低于",-1),ce=o("h5",null,"目标检测置信度不低于",-1),Ve={__name:"testSet",setup(x){const c=_("utilss"),r=S(),e=p({runModeOption:["正常模式","无头模式"],boolOption:["是","否"],failAction:["停止测试","跳过用例","继续执行"],ocrModelOption:["v2","v3","v4"],testSet:{runMode:"",screencastValue:"",screenshotValue:"",sendFlowFailAction:"",getUrlFailAction:"",loginFailAction:"",assertFailAction:"",execFailAction:"",ocrModel:"v4",getUrlRetry:0,loginRetry:0,screenshotRetry:0,locatRetry:0,ocrConfidence:0,ocrMatch:0,imgConfidence:0,yoloConfidence:0}}),i=()=>{c.PutTestSet(r,e.value)};return g(async()=>{e.value=await c.GetTestSet()}),(V,l)=>{const n=m("SelectButton"),d=m("InputNumber"),b=m("Button");return w(),F(U,null,[s(q),o("div",z,[J,o("div",K,[o("div",Q,[X,s(n,{modelValue:e.value.testSet.runMode,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.testSet.runMode=t),options:e.value.runModeOption,"aria-labelledby":"basic"},null,8,["modelValue","options"]),Y,s(n,{modelValue:e.value.testSet.screencastValue,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.testSet.screencastValue=t),options:e.value.boolOption,"aria-labelledby":"basic"},null,8,["modelValue","options"]),Z,s(n,{modelValue:e.value.testSet.screenshotValue,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.testSet.screenshotValue=t),options:e.value.boolOption,"aria-labelledby":"basic"},null,8,["modelValue","options"]),ee,s(n,{modelValue:e.value.testSet.sendFlowFailAction,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.testSet.sendFlowFailAction=t),options:e.value.failAction,"aria-labelledby":"basic"},null,8,["modelValue","options"]),le,s(n,{modelValue:e.value.testSet.getUrlFailAction,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.testSet.getUrlFailAction=t),options:e.value.failAction,"aria-labelledby":"basic"},null,8,["modelValue","options"]),te,s(n,{modelValue:e.value.testSet.loginFailAction,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.testSet.loginFailAction=t),options:e.value.failAction,"aria-labelledby":"basic"},null,8,["modelValue","options"]),oe,s(n,{modelValue:e.value.testSet.assertFailAction,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.testSet.assertFailAction=t),options:e.value.failAction,"aria-labelledby":"basic"},null,8,["modelValue","options"]),se,s(n,{modelValue:e.value.testSet.execFailAction,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.testSet.execFailAction=t),options:e.value.failAction,"aria-labelledby":"basic"},null,8,["modelValue","options"]),ne,s(n,{modelValue:e.value.testSet.ocrModel,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.testSet.ocrModel=t),options:e.value.ocrModelOption,"aria-labelledby":"basic"},null,8,["modelValue","options"])]),o("div",ae,[ue,s(d,{modelValue:e.value.testSet.getUrlRetry,"onUpdate:modelValue":l[9]||(l[9]=t=>e.value.testSet.getUrlRetry=t),showButtons:"",min:1,max:3},null,8,["modelValue"]),ie,s(d,{modelValue:e.value.testSet.loginRetry,"onUpdate:modelValue":l[10]||(l[10]=t=>e.value.testSet.loginRetry=t),showButtons:"",min:1,max:5},null,8,["modelValue"]),de,s(d,{modelValue:e.value.testSet.screenshotRetry,"onUpdate:modelValue":l[11]||(l[11]=t=>e.value.testSet.screenshotRetry=t),showButtons:"",min:1,max:5},null,8,["modelValue"]),me,s(d,{modelValue:e.value.testSet.locatRetry,"onUpdate:modelValue":l[12]||(l[12]=t=>e.value.testSet.locatRetry=t),showButtons:"",min:1,max:10},null,8,["modelValue"]),re,s(d,{modelValue:e.value.testSet.ocrConfidence,"onUpdate:modelValue":l[13]||(l[13]=t=>e.value.testSet.ocrConfidence=t),prefix:"%",showButtons:"",min:60,max:100},null,8,["modelValue"]),ve,s(d,{modelValue:e.value.testSet.ocrMatch,"onUpdate:modelValue":l[14]||(l[14]=t=>e.value.testSet.ocrMatch=t),showButtons:"",min:60,max:100},null,8,["modelValue"]),pe,s(d,{modelValue:e.value.testSet.imgConfidence,"onUpdate:modelValue":l[15]||(l[15]=t=>e.value.testSet.imgConfidence=t),prefix:"%",showButtons:"",min:60,max:100},null,8,["modelValue"]),ce,s(d,{modelValue:e.value.testSet.yoloConfidence,"onUpdate:modelValue":l[16]||(l[16]=t=>e.value.testSet.yoloConfidence=t),prefix:"%",showButtons:"",min:60,max:100},null,8,["modelValue"]),s(b,{onClick:i,style:{"margin-top":"65px"},label:"提交"})])])])],64)}}};export{Ve as default};
